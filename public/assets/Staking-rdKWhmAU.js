import{c as bt,j as p,U as lr,r as vt,d as ur,e as dr,g as cr,u as tr,L as mr}from"./index-Ca5JFDiE.js";import{B as pr}from"./bar-chart-2-DuAkhIFG.js";import{U as gr}from"./users-BsMoDZjH.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=bt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=bt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=bt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=bt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=bt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=bt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=bt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=bt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=bt("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=bt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=bt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=bt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),_r=({address:n,balance:i})=>p.jsxs("div",{className:"mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-[#242429] flex items-center justify-center",children:p.jsx(lr,{className:"w-5 h-5 text-gray-400"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-400",children:"Wallet"}),p.jsx("p",{className:"text-sm font-medium",children:n})]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Balance"}),p.jsxs("p",{className:"text-2xl font-bold",children:["$",i.toLocaleString()]})]})]}),Sr=({items:n})=>p.jsx("nav",{className:"space-y-2",children:n.map(i=>p.jsxs("button",{onClick:i.onClick,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${i.isActive?"bg-[#242429] text-white":"text-gray-400 hover:bg-[#242429] hover:text-white"}`,children:[p.jsx(i.icon,{className:"w-5 h-5"}),p.jsx("span",{children:i.label}),i.hasNew&&p.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs font-medium bg-blue-500 text-white rounded-full",children:"New"})]},i.id))}),jr=()=>p.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"Chart placeholder - Will be implemented with a charting library"}),kr=({balance:n,change:i,profit:d})=>p.jsxs("div",{className:"bg-[#121214] border border-[#242429] rounded-xl p-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h2",{className:"text-lg font-medium mb-2",children:"Total Balance"}),p.jsxs("div",{className:"flex items-baseline gap-4",children:[p.jsxs("p",{className:"text-3xl font-bold",children:["$",n.toLocaleString()]}),p.jsxs("p",{className:"text-green-500",children:["+",i,"% ($",d.toLocaleString(),")"]})]})]}),p.jsx("div",{className:"h-[300px]",children:p.jsx(jr,{})})]}),Ar=({network:n,totalValue:i,assets:d})=>p.jsxs("div",{className:"bg-[#121214] border border-[#242429] rounded-xl p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-medium",children:n}),p.jsxs("p",{className:"text-2xl font-bold",children:["$",i.toLocaleString()]})]}),p.jsx("button",{className:"p-2 hover:bg-[#242429] rounded-lg transition-colors",children:p.jsx(pr,{className:"w-5 h-5 text-gray-400"})})]}),p.jsx("div",{className:"space-y-4",children:d.map(c=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-[#242429] flex items-center justify-center",children:p.jsx("span",{className:"text-xs font-medium",children:c.symbol})}),p.jsx("span",{className:"font-medium",children:c.amount})]}),p.jsx("span",{className:"text-gray-400",children:c.symbol})]},c.symbol))})]}),Rr=()=>p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-[#121214] border border-[#242429] rounded-lg text-sm font-medium hover:bg-[#242429] transition-colors",children:[p.jsx(er,{className:"w-4 h-4"}),"QR Code"]}),p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors",children:[p.jsx(Mr,{className:"w-4 h-4"}),"Buy Crypto"]})]}),Tr=[{id:"1",type:"stake",amount:500,timestamp:"2024-02-20T10:30:00Z",status:"completed"},{id:"2",type:"reward",amount:25,timestamp:"2024-02-19T15:45:00Z",status:"completed"},{id:"3",type:"unstake",amount:200,timestamp:"2024-02-18T09:15:00Z",status:"completed"}],Ir=()=>p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsx("h2",{className:"text-xl font-bold",children:"Transaction History"}),p.jsx("button",{className:"text-sm text-blue-500 hover:text-blue-400",children:"Export CSV"})]}),p.jsx("div",{className:"space-y-4",children:Tr.map(n=>p.jsxs("div",{className:"bg-[#121214] border border-[#242429] rounded-lg p-4 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:`p-2 rounded-full ${n.type==="stake"?"bg-green-500/10":n.type==="unstake"?"bg-red-500/10":"bg-blue-500/10"}`,children:n.type==="stake"?p.jsx(wr,{className:"w-5 h-5 text-green-500"}):n.type==="unstake"?p.jsx(xr,{className:"w-5 h-5 text-red-500"}):p.jsx(Ct,{className:"w-5 h-5 text-blue-500"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium capitalize",children:n.type}),p.jsx("p",{className:"text-sm text-gray-400",children:new Date(n.timestamp).toLocaleDateString()})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:`font-medium ${n.type==="stake"?"text-green-500":n.type==="unstake"?"text-red-500":"text-blue-500"}`,children:[n.type==="stake"?"+":n.type==="unstake"?"-":"+",n.amount," HMMM"]}),p.jsx("p",{className:"text-sm text-gray-400 capitalize",children:n.status})]})]},n.id))})]}),Ur=({mode:n})=>{const[i,d]=vt.useState(""),[c,v]=vt.useState(!1),l=k=>{k.preventDefault(),console.log(`${n}ing ${i} HMMM`)},x=()=>{v(!0)},mt="0.001 ETH",S=n==="stake"?"1,000 HMMM":"500 HMMM Staked";return p.jsxs("form",{onSubmit:l,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between mb-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Amount"}),p.jsxs("span",{className:"text-sm text-gray-400",children:["Available: ",S]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"number",value:i,onChange:k=>d(k.target.value),placeholder:"0.00",className:"w-full px-4 py-3 bg-[#0a0a0b] border border-[#242429] rounded-lg pr-20"}),p.jsx("button",{type:"button",onClick:()=>d("1000"),className:"absolute right-2 top-1/2 -translate-y-1/2 px-2 py-1 text-sm text-blue-500 hover:text-blue-400",children:"MAX"})]})]}),p.jsxs("div",{className:"p-4 bg-[#0a0a0b] border border-[#242429] rounded-lg",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-sm text-gray-400",children:"Estimated Gas Fee"}),p.jsx("span",{className:"text-sm",children:mt})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-500",children:[p.jsx(vr,{className:"w-4 h-4"}),p.jsx("span",{children:"Gas fees may vary during peak times"})]})]}),n==="stake"&&!c?p.jsx("button",{type:"button",onClick:x,className:"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Approve HMMM"}):p.jsx("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:n==="stake"?"Stake HMMM":"Unstake HMMM"})]})},Or=()=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-[#121214] border border-[#242429] rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Er,{className:"w-5 h-5 text-blue-500"}),p.jsx("h4",{className:"font-medium",children:"TVL"})]}),p.jsx("p",{className:"text-2xl font-bold",children:"$2.5M"}),p.jsx("p",{className:"text-sm text-gray-400",children:"+15.3% this week"})]}),p.jsxs("div",{className:"bg-[#121214] border border-[#242429] rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(gr,{className:"w-5 h-5 text-blue-500"}),p.jsx("h4",{className:"font-medium",children:"Stakers"})]}),p.jsx("p",{className:"text-2xl font-bold",children:"1,234"}),p.jsx("p",{className:"text-sm text-gray-400",children:"+52 this week"})]}),p.jsxs("div",{className:"bg-[#121214] border border-[#242429] rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Ct,{className:"w-5 h-5 text-blue-500"}),p.jsx("h4",{className:"font-medium",children:"Avg Lock Time"})]}),p.jsx("p",{className:"text-2xl font-bold",children:"45 days"}),p.jsx("p",{className:"text-sm text-gray-400",children:"+5 days vs last week"})]})]});var ve={exports:{}};const Cr={},Br=Object.freeze(Object.defineProperty({__proto__:null,default:Cr},Symbol.toStringTag,{value:"Module"})),Pr=ur(Br);ve.exports;(function(n){(function(i,d){function c(u,t){if(!u)throw new Error(t||"Assertion failed")}function v(u,t){u.super_=t;var r=function(){};r.prototype=t.prototype,u.prototype=new r,u.prototype.constructor=u}function l(u,t,r){if(l.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(u||0,t||10,r||"be"))}typeof i=="object"?i.exports=l:d.BN=l,l.BN=l,l.wordSize=26;var x;try{typeof window<"u"&&typeof window.Buffer<"u"?x=window.Buffer:x=Pr.Buffer}catch{}l.isBN=function(t){return t instanceof l?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===l.wordSize&&Array.isArray(t.words)},l.max=function(t,r){return t.cmp(r)>0?t:r},l.min=function(t,r){return t.cmp(r)<0?t:r},l.prototype._init=function(t,r,s){if(typeof t=="number")return this._initNumber(t,r,s);if(typeof t=="object")return this._initArray(t,r,s);r==="hex"&&(r=16),c(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var a=0;t[0]==="-"&&(a++,this.negative=1),a<t.length&&(r===16?this._parseHex(t,a,s):(this._parseBase(t,r,a),s==="le"&&this._initArray(this.toArray(),r,s)))},l.prototype._initNumber=function(t,r,s){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(c(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),s==="le"&&this._initArray(this.toArray(),r,s)},l.prototype._initArray=function(t,r,s){if(c(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var f,m,g=0;if(s==="be")for(a=t.length-1,f=0;a>=0;a-=3)m=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[f]|=m<<g&67108863,this.words[f+1]=m>>>26-g&67108863,g+=24,g>=26&&(g-=26,f++);else if(s==="le")for(a=0,f=0;a<t.length;a+=3)m=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[f]|=m<<g&67108863,this.words[f+1]=m>>>26-g&67108863,g+=24,g>=26&&(g-=26,f++);return this._strip()};function mt(u,t){var r=u.charCodeAt(t);if(r>=48&&r<=57)return r-48;if(r>=65&&r<=70)return r-55;if(r>=97&&r<=102)return r-87;c(!1,"Invalid character in "+u)}function S(u,t,r){var s=mt(u,r);return r-1>=t&&(s|=mt(u,r-1)<<4),s}l.prototype._parseHex=function(t,r,s){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var f=0,m=0,g;if(s==="be")for(a=t.length-1;a>=r;a-=2)g=S(t,r,a)<<f,this.words[m]|=g&67108863,f>=18?(f-=18,m+=1,this.words[m]|=g>>>26):f+=8;else{var o=t.length-r;for(a=o%2===0?r+1:r;a<t.length;a+=2)g=S(t,r,a)<<f,this.words[m]|=g&67108863,f>=18?(f-=18,m+=1,this.words[m]|=g>>>26):f+=8}this._strip()};function k(u,t,r,s){for(var a=0,f=0,m=Math.min(u.length,r),g=t;g<m;g++){var o=u.charCodeAt(g)-48;a*=s,o>=49?f=o-49+10:o>=17?f=o-17+10:f=o,c(o>=0&&f<s,"Invalid character"),a+=f}return a}l.prototype._parseBase=function(t,r,s){this.words=[0],this.length=1;for(var a=0,f=1;f<=67108863;f*=r)a++;a--,f=f/r|0;for(var m=t.length-s,g=m%a,o=Math.min(m,m-g)+s,e=0,h=s;h<o;h+=a)e=k(t,h,h+a,r),this.imuln(f),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(g!==0){var M=1;for(e=k(t,h,t.length,r),h=0;h<g;h++)M*=r;this.imuln(M),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}this._strip()},l.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red};function _(u,t){u.words=t.words,u.length=t.length,u.negative=t.negative,u.red=t.red}if(l.prototype._move=function(t){_(t,this)},l.prototype.clone=function(){var t=new l(null);return this.copy(t),t},l.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=E}catch{l.prototype.inspect=E}else l.prototype.inspect=E;function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Tt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],kt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Pt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(t,r){t=t||10,r=r|0||1;var s;if(t===16||t==="hex"){s="";for(var a=0,f=0,m=0;m<this.length;m++){var g=this.words[m],o=((g<<a|f)&16777215).toString(16);f=g>>>24-a&16777215,a+=2,a>=26&&(a-=26,m--),f!==0||m!==this.length-1?s=Tt[6-o.length]+o+s:s=o+s}for(f!==0&&(s=f.toString(16)+s);s.length%r!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}if(t===(t|0)&&t>=2&&t<=36){var e=kt[t],h=Pt[t];s="";var M=this.clone();for(M.negative=0;!M.isZero();){var w=M.modrn(h).toString(t);M=M.idivn(h),M.isZero()?s=w+s:s=Tt[e-w.length]+w+s}for(this.isZero()&&(s="0"+s);s.length%r!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}c(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},l.prototype.toJSON=function(){return this.toString(16,2)},x&&(l.prototype.toBuffer=function(t,r){return this.toArrayLike(x,t,r)}),l.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)};var Gt=function(t,r){return t.allocUnsafe?t.allocUnsafe(r):new t(r)};l.prototype.toArrayLike=function(t,r,s){this._strip();var a=this.byteLength(),f=s||Math.max(1,a);c(a<=f,"byte array longer than desired length"),c(f>0,"Requested array length <= 0");var m=Gt(t,f),g=r==="le"?"LE":"BE";return this["_toArrayLike"+g](m,a),m},l.prototype._toArrayLikeLE=function(t,r){for(var s=0,a=0,f=0,m=0;f<this.length;f++){var g=this.words[f]<<m|a;t[s++]=g&255,s<t.length&&(t[s++]=g>>8&255),s<t.length&&(t[s++]=g>>16&255),m===6?(s<t.length&&(t[s++]=g>>24&255),a=0,m=0):(a=g>>>24,m+=2)}if(s<t.length)for(t[s++]=a;s<t.length;)t[s++]=0},l.prototype._toArrayLikeBE=function(t,r){for(var s=t.length-1,a=0,f=0,m=0;f<this.length;f++){var g=this.words[f]<<m|a;t[s--]=g&255,s>=0&&(t[s--]=g>>8&255),s>=0&&(t[s--]=g>>16&255),m===6?(s>=0&&(t[s--]=g>>24&255),a=0,m=0):(a=g>>>24,m+=2)}if(s>=0)for(t[s--]=a;s>=0;)t[s--]=0},Math.clz32?l.prototype._countBits=function(t){return 32-Math.clz32(t)}:l.prototype._countBits=function(t){var r=t,s=0;return r>=4096&&(s+=13,r>>>=13),r>=64&&(s+=7,r>>>=7),r>=8&&(s+=4,r>>>=4),r>=2&&(s+=2,r>>>=2),s+r},l.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,s=0;return r&8191||(s+=13,r>>>=13),r&127||(s+=7,r>>>=7),r&15||(s+=4,r>>>=4),r&3||(s+=2,r>>>=2),r&1||s++,s},l.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function fr(u){for(var t=new Array(u.bitLength()),r=0;r<t.length;r++){var s=r/26|0,a=r%26;t[r]=u.words[s]>>>a&1}return t}l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var s=this._zeroBits(this.words[r]);if(t+=s,s!==26)break}return t},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},l.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this._strip()},l.prototype.ior=function(t){return c((this.negative|t.negative)===0),this.iuor(t)},l.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},l.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},l.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var s=0;s<r.length;s++)this.words[s]=this.words[s]&t.words[s];return this.length=r.length,this._strip()},l.prototype.iand=function(t){return c((this.negative|t.negative)===0),this.iuand(t)},l.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},l.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},l.prototype.iuxor=function(t){var r,s;this.length>t.length?(r=this,s=t):(r=t,s=this);for(var a=0;a<s.length;a++)this.words[a]=r.words[a]^s.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this._strip()},l.prototype.ixor=function(t){return c((this.negative|t.negative)===0),this.iuxor(t)},l.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},l.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},l.prototype.inotn=function(t){c(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,s=t%26;this._expand(r),s>0&&r--;for(var a=0;a<r;a++)this.words[a]=~this.words[a]&67108863;return s>0&&(this.words[a]=~this.words[a]&67108863>>26-s),this._strip()},l.prototype.notn=function(t){return this.clone().inotn(t)},l.prototype.setn=function(t,r){c(typeof t=="number"&&t>=0);var s=t/26|0,a=t%26;return this._expand(s+1),r?this.words[s]=this.words[s]|1<<a:this.words[s]=this.words[s]&~(1<<a),this._strip()},l.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var s,a;this.length>t.length?(s=this,a=t):(s=t,a=this);for(var f=0,m=0;m<a.length;m++)r=(s.words[m]|0)+(a.words[m]|0)+f,this.words[m]=r&67108863,f=r>>>26;for(;f!==0&&m<s.length;m++)r=(s.words[m]|0)+f,this.words[m]=r&67108863,f=r>>>26;if(this.length=s.length,f!==0)this.words[this.length]=f,this.length++;else if(s!==this)for(;m<s.length;m++)this.words[m]=s.words[m];return this},l.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},l.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var s=this.cmp(t);if(s===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,f;s>0?(a=this,f=t):(a=t,f=this);for(var m=0,g=0;g<f.length;g++)r=(a.words[g]|0)-(f.words[g]|0)+m,m=r>>26,this.words[g]=r&67108863;for(;m!==0&&g<a.length;g++)r=(a.words[g]|0)+m,m=r>>26,this.words[g]=r&67108863;if(m===0&&g<a.length&&a!==this)for(;g<a.length;g++)this.words[g]=a.words[g];return this.length=Math.max(this.length,g),a!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(t){return this.clone().isub(t)};function we(u,t,r){r.negative=t.negative^u.negative;var s=u.length+t.length|0;r.length=s,s=s-1|0;var a=u.words[0]|0,f=t.words[0]|0,m=a*f,g=m&67108863,o=m/67108864|0;r.words[0]=g;for(var e=1;e<s;e++){for(var h=o>>>26,M=o&67108863,w=Math.min(e,t.length-1),y=Math.max(0,e-u.length+1);y<=w;y++){var gt=e-y|0;a=u.words[gt]|0,f=t.words[y]|0,m=a*f+M,h+=m/67108864|0,M=m&67108863}r.words[e]=M|0,o=h|0}return o!==0?r.words[e]=o|0:r.length--,r._strip()}var Me=function(t,r,s){var a=t.words,f=r.words,m=s.words,g=0,o,e,h,M=a[0]|0,w=M&8191,y=M>>>13,gt=a[1]|0,j=gt&8191,A=gt>>>13,_e=a[2]|0,I=_e&8191,U=_e>>>13,Se=a[3]|0,O=Se&8191,C=Se>>>13,je=a[4]|0,B=je&8191,P=je>>>13,ke=a[5]|0,F=ke&8191,D=ke>>>13,Ae=a[6]|0,L=Ae&8191,H=Ae>>>13,Re=a[7]|0,q=Re&8191,z=Re>>>13,Te=a[8]|0,G=Te&8191,Z=Te>>>13,Ie=a[9]|0,$=Ie&8191,W=Ie>>>13,Ue=f[0]|0,V=Ue&8191,K=Ue>>>13,Oe=f[1]|0,X=Oe&8191,J=Oe>>>13,Ce=f[2]|0,Y=Ce&8191,Q=Ce>>>13,Be=f[3]|0,tt=Be&8191,et=Be>>>13,Pe=f[4]|0,rt=Pe&8191,it=Pe>>>13,Fe=f[5]|0,st=Fe&8191,nt=Fe>>>13,De=f[6]|0,ot=De&8191,at=De>>>13,Le=f[7]|0,ht=Le&8191,ft=Le>>>13,He=f[8]|0,lt=He&8191,ut=He>>>13,qe=f[9]|0,dt=qe&8191,ct=qe>>>13;s.negative=t.negative^r.negative,s.length=19,o=Math.imul(w,V),e=Math.imul(w,K),e=e+Math.imul(y,V)|0,h=Math.imul(y,K);var Wt=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,o=Math.imul(j,V),e=Math.imul(j,K),e=e+Math.imul(A,V)|0,h=Math.imul(A,K),o=o+Math.imul(w,X)|0,e=e+Math.imul(w,J)|0,e=e+Math.imul(y,X)|0,h=h+Math.imul(y,J)|0;var Vt=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,o=Math.imul(I,V),e=Math.imul(I,K),e=e+Math.imul(U,V)|0,h=Math.imul(U,K),o=o+Math.imul(j,X)|0,e=e+Math.imul(j,J)|0,e=e+Math.imul(A,X)|0,h=h+Math.imul(A,J)|0,o=o+Math.imul(w,Y)|0,e=e+Math.imul(w,Q)|0,e=e+Math.imul(y,Y)|0,h=h+Math.imul(y,Q)|0;var Kt=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,o=Math.imul(O,V),e=Math.imul(O,K),e=e+Math.imul(C,V)|0,h=Math.imul(C,K),o=o+Math.imul(I,X)|0,e=e+Math.imul(I,J)|0,e=e+Math.imul(U,X)|0,h=h+Math.imul(U,J)|0,o=o+Math.imul(j,Y)|0,e=e+Math.imul(j,Q)|0,e=e+Math.imul(A,Y)|0,h=h+Math.imul(A,Q)|0,o=o+Math.imul(w,tt)|0,e=e+Math.imul(w,et)|0,e=e+Math.imul(y,tt)|0,h=h+Math.imul(y,et)|0;var Xt=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,o=Math.imul(B,V),e=Math.imul(B,K),e=e+Math.imul(P,V)|0,h=Math.imul(P,K),o=o+Math.imul(O,X)|0,e=e+Math.imul(O,J)|0,e=e+Math.imul(C,X)|0,h=h+Math.imul(C,J)|0,o=o+Math.imul(I,Y)|0,e=e+Math.imul(I,Q)|0,e=e+Math.imul(U,Y)|0,h=h+Math.imul(U,Q)|0,o=o+Math.imul(j,tt)|0,e=e+Math.imul(j,et)|0,e=e+Math.imul(A,tt)|0,h=h+Math.imul(A,et)|0,o=o+Math.imul(w,rt)|0,e=e+Math.imul(w,it)|0,e=e+Math.imul(y,rt)|0,h=h+Math.imul(y,it)|0;var Jt=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,o=Math.imul(F,V),e=Math.imul(F,K),e=e+Math.imul(D,V)|0,h=Math.imul(D,K),o=o+Math.imul(B,X)|0,e=e+Math.imul(B,J)|0,e=e+Math.imul(P,X)|0,h=h+Math.imul(P,J)|0,o=o+Math.imul(O,Y)|0,e=e+Math.imul(O,Q)|0,e=e+Math.imul(C,Y)|0,h=h+Math.imul(C,Q)|0,o=o+Math.imul(I,tt)|0,e=e+Math.imul(I,et)|0,e=e+Math.imul(U,tt)|0,h=h+Math.imul(U,et)|0,o=o+Math.imul(j,rt)|0,e=e+Math.imul(j,it)|0,e=e+Math.imul(A,rt)|0,h=h+Math.imul(A,it)|0,o=o+Math.imul(w,st)|0,e=e+Math.imul(w,nt)|0,e=e+Math.imul(y,st)|0,h=h+Math.imul(y,nt)|0;var Yt=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,o=Math.imul(L,V),e=Math.imul(L,K),e=e+Math.imul(H,V)|0,h=Math.imul(H,K),o=o+Math.imul(F,X)|0,e=e+Math.imul(F,J)|0,e=e+Math.imul(D,X)|0,h=h+Math.imul(D,J)|0,o=o+Math.imul(B,Y)|0,e=e+Math.imul(B,Q)|0,e=e+Math.imul(P,Y)|0,h=h+Math.imul(P,Q)|0,o=o+Math.imul(O,tt)|0,e=e+Math.imul(O,et)|0,e=e+Math.imul(C,tt)|0,h=h+Math.imul(C,et)|0,o=o+Math.imul(I,rt)|0,e=e+Math.imul(I,it)|0,e=e+Math.imul(U,rt)|0,h=h+Math.imul(U,it)|0,o=o+Math.imul(j,st)|0,e=e+Math.imul(j,nt)|0,e=e+Math.imul(A,st)|0,h=h+Math.imul(A,nt)|0,o=o+Math.imul(w,ot)|0,e=e+Math.imul(w,at)|0,e=e+Math.imul(y,ot)|0,h=h+Math.imul(y,at)|0;var Qt=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,o=Math.imul(q,V),e=Math.imul(q,K),e=e+Math.imul(z,V)|0,h=Math.imul(z,K),o=o+Math.imul(L,X)|0,e=e+Math.imul(L,J)|0,e=e+Math.imul(H,X)|0,h=h+Math.imul(H,J)|0,o=o+Math.imul(F,Y)|0,e=e+Math.imul(F,Q)|0,e=e+Math.imul(D,Y)|0,h=h+Math.imul(D,Q)|0,o=o+Math.imul(B,tt)|0,e=e+Math.imul(B,et)|0,e=e+Math.imul(P,tt)|0,h=h+Math.imul(P,et)|0,o=o+Math.imul(O,rt)|0,e=e+Math.imul(O,it)|0,e=e+Math.imul(C,rt)|0,h=h+Math.imul(C,it)|0,o=o+Math.imul(I,st)|0,e=e+Math.imul(I,nt)|0,e=e+Math.imul(U,st)|0,h=h+Math.imul(U,nt)|0,o=o+Math.imul(j,ot)|0,e=e+Math.imul(j,at)|0,e=e+Math.imul(A,ot)|0,h=h+Math.imul(A,at)|0,o=o+Math.imul(w,ht)|0,e=e+Math.imul(w,ft)|0,e=e+Math.imul(y,ht)|0,h=h+Math.imul(y,ft)|0;var te=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(te>>>26)|0,te&=67108863,o=Math.imul(G,V),e=Math.imul(G,K),e=e+Math.imul(Z,V)|0,h=Math.imul(Z,K),o=o+Math.imul(q,X)|0,e=e+Math.imul(q,J)|0,e=e+Math.imul(z,X)|0,h=h+Math.imul(z,J)|0,o=o+Math.imul(L,Y)|0,e=e+Math.imul(L,Q)|0,e=e+Math.imul(H,Y)|0,h=h+Math.imul(H,Q)|0,o=o+Math.imul(F,tt)|0,e=e+Math.imul(F,et)|0,e=e+Math.imul(D,tt)|0,h=h+Math.imul(D,et)|0,o=o+Math.imul(B,rt)|0,e=e+Math.imul(B,it)|0,e=e+Math.imul(P,rt)|0,h=h+Math.imul(P,it)|0,o=o+Math.imul(O,st)|0,e=e+Math.imul(O,nt)|0,e=e+Math.imul(C,st)|0,h=h+Math.imul(C,nt)|0,o=o+Math.imul(I,ot)|0,e=e+Math.imul(I,at)|0,e=e+Math.imul(U,ot)|0,h=h+Math.imul(U,at)|0,o=o+Math.imul(j,ht)|0,e=e+Math.imul(j,ft)|0,e=e+Math.imul(A,ht)|0,h=h+Math.imul(A,ft)|0,o=o+Math.imul(w,lt)|0,e=e+Math.imul(w,ut)|0,e=e+Math.imul(y,lt)|0,h=h+Math.imul(y,ut)|0;var ee=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(ee>>>26)|0,ee&=67108863,o=Math.imul($,V),e=Math.imul($,K),e=e+Math.imul(W,V)|0,h=Math.imul(W,K),o=o+Math.imul(G,X)|0,e=e+Math.imul(G,J)|0,e=e+Math.imul(Z,X)|0,h=h+Math.imul(Z,J)|0,o=o+Math.imul(q,Y)|0,e=e+Math.imul(q,Q)|0,e=e+Math.imul(z,Y)|0,h=h+Math.imul(z,Q)|0,o=o+Math.imul(L,tt)|0,e=e+Math.imul(L,et)|0,e=e+Math.imul(H,tt)|0,h=h+Math.imul(H,et)|0,o=o+Math.imul(F,rt)|0,e=e+Math.imul(F,it)|0,e=e+Math.imul(D,rt)|0,h=h+Math.imul(D,it)|0,o=o+Math.imul(B,st)|0,e=e+Math.imul(B,nt)|0,e=e+Math.imul(P,st)|0,h=h+Math.imul(P,nt)|0,o=o+Math.imul(O,ot)|0,e=e+Math.imul(O,at)|0,e=e+Math.imul(C,ot)|0,h=h+Math.imul(C,at)|0,o=o+Math.imul(I,ht)|0,e=e+Math.imul(I,ft)|0,e=e+Math.imul(U,ht)|0,h=h+Math.imul(U,ft)|0,o=o+Math.imul(j,lt)|0,e=e+Math.imul(j,ut)|0,e=e+Math.imul(A,lt)|0,h=h+Math.imul(A,ut)|0,o=o+Math.imul(w,dt)|0,e=e+Math.imul(w,ct)|0,e=e+Math.imul(y,dt)|0,h=h+Math.imul(y,ct)|0;var re=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(re>>>26)|0,re&=67108863,o=Math.imul($,X),e=Math.imul($,J),e=e+Math.imul(W,X)|0,h=Math.imul(W,J),o=o+Math.imul(G,Y)|0,e=e+Math.imul(G,Q)|0,e=e+Math.imul(Z,Y)|0,h=h+Math.imul(Z,Q)|0,o=o+Math.imul(q,tt)|0,e=e+Math.imul(q,et)|0,e=e+Math.imul(z,tt)|0,h=h+Math.imul(z,et)|0,o=o+Math.imul(L,rt)|0,e=e+Math.imul(L,it)|0,e=e+Math.imul(H,rt)|0,h=h+Math.imul(H,it)|0,o=o+Math.imul(F,st)|0,e=e+Math.imul(F,nt)|0,e=e+Math.imul(D,st)|0,h=h+Math.imul(D,nt)|0,o=o+Math.imul(B,ot)|0,e=e+Math.imul(B,at)|0,e=e+Math.imul(P,ot)|0,h=h+Math.imul(P,at)|0,o=o+Math.imul(O,ht)|0,e=e+Math.imul(O,ft)|0,e=e+Math.imul(C,ht)|0,h=h+Math.imul(C,ft)|0,o=o+Math.imul(I,lt)|0,e=e+Math.imul(I,ut)|0,e=e+Math.imul(U,lt)|0,h=h+Math.imul(U,ut)|0,o=o+Math.imul(j,dt)|0,e=e+Math.imul(j,ct)|0,e=e+Math.imul(A,dt)|0,h=h+Math.imul(A,ct)|0;var ie=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(ie>>>26)|0,ie&=67108863,o=Math.imul($,Y),e=Math.imul($,Q),e=e+Math.imul(W,Y)|0,h=Math.imul(W,Q),o=o+Math.imul(G,tt)|0,e=e+Math.imul(G,et)|0,e=e+Math.imul(Z,tt)|0,h=h+Math.imul(Z,et)|0,o=o+Math.imul(q,rt)|0,e=e+Math.imul(q,it)|0,e=e+Math.imul(z,rt)|0,h=h+Math.imul(z,it)|0,o=o+Math.imul(L,st)|0,e=e+Math.imul(L,nt)|0,e=e+Math.imul(H,st)|0,h=h+Math.imul(H,nt)|0,o=o+Math.imul(F,ot)|0,e=e+Math.imul(F,at)|0,e=e+Math.imul(D,ot)|0,h=h+Math.imul(D,at)|0,o=o+Math.imul(B,ht)|0,e=e+Math.imul(B,ft)|0,e=e+Math.imul(P,ht)|0,h=h+Math.imul(P,ft)|0,o=o+Math.imul(O,lt)|0,e=e+Math.imul(O,ut)|0,e=e+Math.imul(C,lt)|0,h=h+Math.imul(C,ut)|0,o=o+Math.imul(I,dt)|0,e=e+Math.imul(I,ct)|0,e=e+Math.imul(U,dt)|0,h=h+Math.imul(U,ct)|0;var se=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(se>>>26)|0,se&=67108863,o=Math.imul($,tt),e=Math.imul($,et),e=e+Math.imul(W,tt)|0,h=Math.imul(W,et),o=o+Math.imul(G,rt)|0,e=e+Math.imul(G,it)|0,e=e+Math.imul(Z,rt)|0,h=h+Math.imul(Z,it)|0,o=o+Math.imul(q,st)|0,e=e+Math.imul(q,nt)|0,e=e+Math.imul(z,st)|0,h=h+Math.imul(z,nt)|0,o=o+Math.imul(L,ot)|0,e=e+Math.imul(L,at)|0,e=e+Math.imul(H,ot)|0,h=h+Math.imul(H,at)|0,o=o+Math.imul(F,ht)|0,e=e+Math.imul(F,ft)|0,e=e+Math.imul(D,ht)|0,h=h+Math.imul(D,ft)|0,o=o+Math.imul(B,lt)|0,e=e+Math.imul(B,ut)|0,e=e+Math.imul(P,lt)|0,h=h+Math.imul(P,ut)|0,o=o+Math.imul(O,dt)|0,e=e+Math.imul(O,ct)|0,e=e+Math.imul(C,dt)|0,h=h+Math.imul(C,ct)|0;var ne=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(ne>>>26)|0,ne&=67108863,o=Math.imul($,rt),e=Math.imul($,it),e=e+Math.imul(W,rt)|0,h=Math.imul(W,it),o=o+Math.imul(G,st)|0,e=e+Math.imul(G,nt)|0,e=e+Math.imul(Z,st)|0,h=h+Math.imul(Z,nt)|0,o=o+Math.imul(q,ot)|0,e=e+Math.imul(q,at)|0,e=e+Math.imul(z,ot)|0,h=h+Math.imul(z,at)|0,o=o+Math.imul(L,ht)|0,e=e+Math.imul(L,ft)|0,e=e+Math.imul(H,ht)|0,h=h+Math.imul(H,ft)|0,o=o+Math.imul(F,lt)|0,e=e+Math.imul(F,ut)|0,e=e+Math.imul(D,lt)|0,h=h+Math.imul(D,ut)|0,o=o+Math.imul(B,dt)|0,e=e+Math.imul(B,ct)|0,e=e+Math.imul(P,dt)|0,h=h+Math.imul(P,ct)|0;var oe=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(oe>>>26)|0,oe&=67108863,o=Math.imul($,st),e=Math.imul($,nt),e=e+Math.imul(W,st)|0,h=Math.imul(W,nt),o=o+Math.imul(G,ot)|0,e=e+Math.imul(G,at)|0,e=e+Math.imul(Z,ot)|0,h=h+Math.imul(Z,at)|0,o=o+Math.imul(q,ht)|0,e=e+Math.imul(q,ft)|0,e=e+Math.imul(z,ht)|0,h=h+Math.imul(z,ft)|0,o=o+Math.imul(L,lt)|0,e=e+Math.imul(L,ut)|0,e=e+Math.imul(H,lt)|0,h=h+Math.imul(H,ut)|0,o=o+Math.imul(F,dt)|0,e=e+Math.imul(F,ct)|0,e=e+Math.imul(D,dt)|0,h=h+Math.imul(D,ct)|0;var ae=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(ae>>>26)|0,ae&=67108863,o=Math.imul($,ot),e=Math.imul($,at),e=e+Math.imul(W,ot)|0,h=Math.imul(W,at),o=o+Math.imul(G,ht)|0,e=e+Math.imul(G,ft)|0,e=e+Math.imul(Z,ht)|0,h=h+Math.imul(Z,ft)|0,o=o+Math.imul(q,lt)|0,e=e+Math.imul(q,ut)|0,e=e+Math.imul(z,lt)|0,h=h+Math.imul(z,ut)|0,o=o+Math.imul(L,dt)|0,e=e+Math.imul(L,ct)|0,e=e+Math.imul(H,dt)|0,h=h+Math.imul(H,ct)|0;var he=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(he>>>26)|0,he&=67108863,o=Math.imul($,ht),e=Math.imul($,ft),e=e+Math.imul(W,ht)|0,h=Math.imul(W,ft),o=o+Math.imul(G,lt)|0,e=e+Math.imul(G,ut)|0,e=e+Math.imul(Z,lt)|0,h=h+Math.imul(Z,ut)|0,o=o+Math.imul(q,dt)|0,e=e+Math.imul(q,ct)|0,e=e+Math.imul(z,dt)|0,h=h+Math.imul(z,ct)|0;var fe=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(fe>>>26)|0,fe&=67108863,o=Math.imul($,lt),e=Math.imul($,ut),e=e+Math.imul(W,lt)|0,h=Math.imul(W,ut),o=o+Math.imul(G,dt)|0,e=e+Math.imul(G,ct)|0,e=e+Math.imul(Z,dt)|0,h=h+Math.imul(Z,ct)|0;var le=(g+o|0)+((e&8191)<<13)|0;g=(h+(e>>>13)|0)+(le>>>26)|0,le&=67108863,o=Math.imul($,dt),e=Math.imul($,ct),e=e+Math.imul(W,dt)|0,h=Math.imul(W,ct);var ue=(g+o|0)+((e&8191)<<13)|0;return g=(h+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,m[0]=Wt,m[1]=Vt,m[2]=Kt,m[3]=Xt,m[4]=Jt,m[5]=Yt,m[6]=Qt,m[7]=te,m[8]=ee,m[9]=re,m[10]=ie,m[11]=se,m[12]=ne,m[13]=oe,m[14]=ae,m[15]=he,m[16]=fe,m[17]=le,m[18]=ue,g!==0&&(m[19]=g,s.length++),s};Math.imul||(Me=we);function ye(u,t,r){r.negative=t.negative^u.negative,r.length=u.length+t.length;for(var s=0,a=0,f=0;f<r.length-1;f++){var m=a;a=0;for(var g=s&67108863,o=Math.min(f,t.length-1),e=Math.max(0,f-u.length+1);e<=o;e++){var h=f-e,M=u.words[h]|0,w=t.words[e]|0,y=M*w,gt=y&67108863;m=m+(y/67108864|0)|0,gt=gt+g|0,g=gt&67108863,m=m+(gt>>>26)|0,a+=m>>>26,m&=67108863}r.words[f]=g,s=m,m=a}return s!==0?r.words[f]=s:r.length--,r._strip()}function be(u,t,r){return ye(u,t,r)}l.prototype.mulTo=function(t,r){var s,a=this.length+t.length;return this.length===10&&t.length===10?s=Me(this,t,r):a<63?s=we(this,t,r):a<1024?s=ye(this,t,r):s=be(this,t,r),s},l.prototype.mul=function(t){var r=new l(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},l.prototype.mulf=function(t){var r=new l(null);return r.words=new Array(this.length+t.length),be(this,t,r)},l.prototype.imul=function(t){return this.clone().mulTo(t,this)},l.prototype.imuln=function(t){var r=t<0;r&&(t=-t),c(typeof t=="number"),c(t<67108864);for(var s=0,a=0;a<this.length;a++){var f=(this.words[a]|0)*t,m=(f&67108863)+(s&67108863);s>>=26,s+=f/67108864|0,s+=m>>>26,this.words[a]=m&67108863}return s!==0&&(this.words[a]=s,this.length++),r?this.ineg():this},l.prototype.muln=function(t){return this.clone().imuln(t)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(t){var r=fr(t);if(r.length===0)return new l(1);for(var s=this,a=0;a<r.length&&r[a]===0;a++,s=s.sqr());if(++a<r.length)for(var f=s.sqr();a<r.length;a++,f=f.sqr())r[a]!==0&&(s=s.mul(f));return s},l.prototype.iushln=function(t){c(typeof t=="number"&&t>=0);var r=t%26,s=(t-r)/26,a=67108863>>>26-r<<26-r,f;if(r!==0){var m=0;for(f=0;f<this.length;f++){var g=this.words[f]&a,o=(this.words[f]|0)-g<<r;this.words[f]=o|m,m=g>>>26-r}m&&(this.words[f]=m,this.length++)}if(s!==0){for(f=this.length-1;f>=0;f--)this.words[f+s]=this.words[f];for(f=0;f<s;f++)this.words[f]=0;this.length+=s}return this._strip()},l.prototype.ishln=function(t){return c(this.negative===0),this.iushln(t)},l.prototype.iushrn=function(t,r,s){c(typeof t=="number"&&t>=0);var a;r?a=(r-r%26)/26:a=0;var f=t%26,m=Math.min((t-f)/26,this.length),g=67108863^67108863>>>f<<f,o=s;if(a-=m,a=Math.max(0,a),o){for(var e=0;e<m;e++)o.words[e]=this.words[e];o.length=m}if(m!==0)if(this.length>m)for(this.length-=m,e=0;e<this.length;e++)this.words[e]=this.words[e+m];else this.words[0]=0,this.length=1;var h=0;for(e=this.length-1;e>=0&&(h!==0||e>=a);e--){var M=this.words[e]|0;this.words[e]=h<<26-f|M>>>f,h=M&g}return o&&h!==0&&(o.words[o.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(t,r,s){return c(this.negative===0),this.iushrn(t,r,s)},l.prototype.shln=function(t){return this.clone().ishln(t)},l.prototype.ushln=function(t){return this.clone().iushln(t)},l.prototype.shrn=function(t){return this.clone().ishrn(t)},l.prototype.ushrn=function(t){return this.clone().iushrn(t)},l.prototype.testn=function(t){c(typeof t=="number"&&t>=0);var r=t%26,s=(t-r)/26,a=1<<r;if(this.length<=s)return!1;var f=this.words[s];return!!(f&a)},l.prototype.imaskn=function(t){c(typeof t=="number"&&t>=0);var r=t%26,s=(t-r)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=s)return this;if(r!==0&&s++,this.length=Math.min(s,this.length),r!==0){var a=67108863^67108863>>>r<<r;this.words[this.length-1]&=a}return this._strip()},l.prototype.maskn=function(t){return this.clone().imaskn(t)},l.prototype.iaddn=function(t){return c(typeof t=="number"),c(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},l.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},l.prototype.isubn=function(t){if(c(typeof t=="number"),c(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this._strip()},l.prototype.addn=function(t){return this.clone().iaddn(t)},l.prototype.subn=function(t){return this.clone().isubn(t)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(t,r,s){var a=t.length+s,f;this._expand(a);var m,g=0;for(f=0;f<t.length;f++){m=(this.words[f+s]|0)+g;var o=(t.words[f]|0)*r;m-=o&67108863,g=(m>>26)-(o/67108864|0),this.words[f+s]=m&67108863}for(;f<this.length-s;f++)m=(this.words[f+s]|0)+g,g=m>>26,this.words[f+s]=m&67108863;if(g===0)return this._strip();for(c(g===-1),g=0,f=0;f<this.length;f++)m=-(this.words[f]|0)+g,g=m>>26,this.words[f]=m&67108863;return this.negative=1,this._strip()},l.prototype._wordDiv=function(t,r){var s=this.length-t.length,a=this.clone(),f=t,m=f.words[f.length-1]|0,g=this._countBits(m);s=26-g,s!==0&&(f=f.ushln(s),a.iushln(s),m=f.words[f.length-1]|0);var o=a.length-f.length,e;if(r!=="mod"){e=new l(null),e.length=o+1,e.words=new Array(e.length);for(var h=0;h<e.length;h++)e.words[h]=0}var M=a.clone()._ishlnsubmul(f,1,o);M.negative===0&&(a=M,e&&(e.words[o]=1));for(var w=o-1;w>=0;w--){var y=(a.words[f.length+w]|0)*67108864+(a.words[f.length+w-1]|0);for(y=Math.min(y/m|0,67108863),a._ishlnsubmul(f,y,w);a.negative!==0;)y--,a.negative=0,a._ishlnsubmul(f,1,w),a.isZero()||(a.negative^=1);e&&(e.words[w]=y)}return e&&e._strip(),a._strip(),r!=="div"&&s!==0&&a.iushrn(s),{div:e||null,mod:a}},l.prototype.divmod=function(t,r,s){if(c(!t.isZero()),this.isZero())return{div:new l(0),mod:new l(0)};var a,f,m;return this.negative!==0&&t.negative===0?(m=this.neg().divmod(t,r),r!=="mod"&&(a=m.div.neg()),r!=="div"&&(f=m.mod.neg(),s&&f.negative!==0&&f.iadd(t)),{div:a,mod:f}):this.negative===0&&t.negative!==0?(m=this.divmod(t.neg(),r),r!=="mod"&&(a=m.div.neg()),{div:a,mod:m.mod}):this.negative&t.negative?(m=this.neg().divmod(t.neg(),r),r!=="div"&&(f=m.mod.neg(),s&&f.negative!==0&&f.isub(t)),{div:m.div,mod:f}):t.length>this.length||this.cmp(t)<0?{div:new l(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new l(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new l(this.modrn(t.words[0]))}:this._wordDiv(t,r)},l.prototype.div=function(t){return this.divmod(t,"div",!1).div},l.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},l.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},l.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var s=r.div.negative!==0?r.mod.isub(t):r.mod,a=t.ushrn(1),f=t.andln(1),m=s.cmp(a);return m<0||f===1&&m===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},l.prototype.modrn=function(t){var r=t<0;r&&(t=-t),c(t<=67108863);for(var s=(1<<26)%t,a=0,f=this.length-1;f>=0;f--)a=(s*a+(this.words[f]|0))%t;return r?-a:a},l.prototype.modn=function(t){return this.modrn(t)},l.prototype.idivn=function(t){var r=t<0;r&&(t=-t),c(t<=67108863);for(var s=0,a=this.length-1;a>=0;a--){var f=(this.words[a]|0)+s*67108864;this.words[a]=f/t|0,s=f%t}return this._strip(),r?this.ineg():this},l.prototype.divn=function(t){return this.clone().idivn(t)},l.prototype.egcd=function(t){c(t.negative===0),c(!t.isZero());var r=this,s=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new l(1),f=new l(0),m=new l(0),g=new l(1),o=0;r.isEven()&&s.isEven();)r.iushrn(1),s.iushrn(1),++o;for(var e=s.clone(),h=r.clone();!r.isZero();){for(var M=0,w=1;!(r.words[0]&w)&&M<26;++M,w<<=1);if(M>0)for(r.iushrn(M);M-- >0;)(a.isOdd()||f.isOdd())&&(a.iadd(e),f.isub(h)),a.iushrn(1),f.iushrn(1);for(var y=0,gt=1;!(s.words[0]&gt)&&y<26;++y,gt<<=1);if(y>0)for(s.iushrn(y);y-- >0;)(m.isOdd()||g.isOdd())&&(m.iadd(e),g.isub(h)),m.iushrn(1),g.iushrn(1);r.cmp(s)>=0?(r.isub(s),a.isub(m),f.isub(g)):(s.isub(r),m.isub(a),g.isub(f))}return{a:m,b:g,gcd:s.iushln(o)}},l.prototype._invmp=function(t){c(t.negative===0),c(!t.isZero());var r=this,s=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new l(1),f=new l(0),m=s.clone();r.cmpn(1)>0&&s.cmpn(1)>0;){for(var g=0,o=1;!(r.words[0]&o)&&g<26;++g,o<<=1);if(g>0)for(r.iushrn(g);g-- >0;)a.isOdd()&&a.iadd(m),a.iushrn(1);for(var e=0,h=1;!(s.words[0]&h)&&e<26;++e,h<<=1);if(e>0)for(s.iushrn(e);e-- >0;)f.isOdd()&&f.iadd(m),f.iushrn(1);r.cmp(s)>=0?(r.isub(s),a.isub(f)):(s.isub(r),f.isub(a))}var M;return r.cmpn(1)===0?M=a:M=f,M.cmpn(0)<0&&M.iadd(t),M},l.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),s=t.clone();r.negative=0,s.negative=0;for(var a=0;r.isEven()&&s.isEven();a++)r.iushrn(1),s.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;s.isEven();)s.iushrn(1);var f=r.cmp(s);if(f<0){var m=r;r=s,s=m}else if(f===0||s.cmpn(1)===0)break;r.isub(s)}while(!0);return s.iushln(a)},l.prototype.invm=function(t){return this.egcd(t).a.umod(t)},l.prototype.isEven=function(){return(this.words[0]&1)===0},l.prototype.isOdd=function(){return(this.words[0]&1)===1},l.prototype.andln=function(t){return this.words[0]&t},l.prototype.bincn=function(t){c(typeof t=="number");var r=t%26,s=(t-r)/26,a=1<<r;if(this.length<=s)return this._expand(s+1),this.words[s]|=a,this;for(var f=a,m=s;f!==0&&m<this.length;m++){var g=this.words[m]|0;g+=f,f=g>>>26,g&=67108863,this.words[m]=g}return f!==0&&(this.words[m]=f,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this._strip();var s;if(this.length>1)s=1;else{r&&(t=-t),c(t<=67108863,"Number is too big");var a=this.words[0]|0;s=a===t?0:a<t?-1:1}return this.negative!==0?-s|0:s},l.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},l.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,s=this.length-1;s>=0;s--){var a=this.words[s]|0,f=t.words[s]|0;if(a!==f){a<f?r=-1:a>f&&(r=1);break}}return r},l.prototype.gtn=function(t){return this.cmpn(t)===1},l.prototype.gt=function(t){return this.cmp(t)===1},l.prototype.gten=function(t){return this.cmpn(t)>=0},l.prototype.gte=function(t){return this.cmp(t)>=0},l.prototype.ltn=function(t){return this.cmpn(t)===-1},l.prototype.lt=function(t){return this.cmp(t)===-1},l.prototype.lten=function(t){return this.cmpn(t)<=0},l.prototype.lte=function(t){return this.cmp(t)<=0},l.prototype.eqn=function(t){return this.cmpn(t)===0},l.prototype.eq=function(t){return this.cmp(t)===0},l.red=function(t){return new T(t)},l.prototype.toRed=function(t){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},l.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(t){return this.red=t,this},l.prototype.forceRed=function(t){return c(!this.red,"Already a number in reduction context"),this._forceRed(t)},l.prototype.redAdd=function(t){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},l.prototype.redIAdd=function(t){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},l.prototype.redSub=function(t){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},l.prototype.redISub=function(t){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},l.prototype.redShl=function(t){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},l.prototype.redMul=function(t){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},l.prototype.redIMul=function(t){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},l.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(t){return c(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var Zt={k256:null,p224:null,p192:null,p25519:null};function Mt(u,t){this.name=u,this.p=new l(t,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mt.prototype._tmp=function(){var t=new l(null);return t.words=new Array(Math.ceil(this.n/13)),t},Mt.prototype.ireduce=function(t){var r=t,s;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),s=r.bitLength();while(s>this.n);var a=s<this.n?-1:r.ucmp(this.p);return a===0?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip!==void 0?r.strip():r._strip(),r},Mt.prototype.split=function(t,r){t.iushrn(this.n,0,r)},Mt.prototype.imulK=function(t){return t.imul(this.k)};function Ft(){Mt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}v(Ft,Mt),Ft.prototype.split=function(t,r){for(var s=4194303,a=Math.min(t.length,9),f=0;f<a;f++)r.words[f]=t.words[f];if(r.length=a,t.length<=9){t.words[0]=0,t.length=1;return}var m=t.words[9];for(r.words[r.length++]=m&s,f=10;f<t.length;f++){var g=t.words[f]|0;t.words[f-10]=(g&s)<<4|m>>>22,m=g}m>>>=22,t.words[f-10]=m,m===0&&t.length>10?t.length-=10:t.length-=9},Ft.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,s=0;s<t.length;s++){var a=t.words[s]|0;r+=a*977,t.words[s]=r&67108863,r=a*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Ne(){Mt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}v(Ne,Mt);function Ee(){Mt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}v(Ee,Mt);function $t(){Mt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}v($t,Mt),$t.prototype.imulK=function(t){for(var r=0,s=0;s<t.length;s++){var a=(t.words[s]|0)*19+r,f=a&67108863;a>>>=26,t.words[s]=f,r=a}return r!==0&&(t.words[t.length++]=r),t},l._prime=function(t){if(Zt[t])return Zt[t];var r;if(t==="k256")r=new Ft;else if(t==="p224")r=new Ne;else if(t==="p192")r=new Ee;else if(t==="p25519")r=new $t;else throw new Error("Unknown prime "+t);return Zt[t]=r,r};function T(u){if(typeof u=="string"){var t=l._prime(u);this.m=t.p,this.prime=t}else c(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}T.prototype._verify1=function(t){c(t.negative===0,"red works only with positives"),c(t.red,"red works only with red numbers")},T.prototype._verify2=function(t,r){c((t.negative|r.negative)===0,"red works only with positives"),c(t.red&&t.red===r.red,"red works only with red numbers")},T.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(_(t,t.umod(this.m)._forceRed(this)),t)},T.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},T.prototype.add=function(t,r){this._verify2(t,r);var s=t.add(r);return s.cmp(this.m)>=0&&s.isub(this.m),s._forceRed(this)},T.prototype.iadd=function(t,r){this._verify2(t,r);var s=t.iadd(r);return s.cmp(this.m)>=0&&s.isub(this.m),s},T.prototype.sub=function(t,r){this._verify2(t,r);var s=t.sub(r);return s.cmpn(0)<0&&s.iadd(this.m),s._forceRed(this)},T.prototype.isub=function(t,r){this._verify2(t,r);var s=t.isub(r);return s.cmpn(0)<0&&s.iadd(this.m),s},T.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},T.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},T.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},T.prototype.isqr=function(t){return this.imul(t,t.clone())},T.prototype.sqr=function(t){return this.mul(t,t)},T.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(c(r%2===1),r===3){var s=this.m.add(new l(1)).iushrn(2);return this.pow(t,s)}for(var a=this.m.subn(1),f=0;!a.isZero()&&a.andln(1)===0;)f++,a.iushrn(1);c(!a.isZero());var m=new l(1).toRed(this),g=m.redNeg(),o=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new l(2*e*e).toRed(this);this.pow(e,o).cmp(g)!==0;)e.redIAdd(g);for(var h=this.pow(e,a),M=this.pow(t,a.addn(1).iushrn(1)),w=this.pow(t,a),y=f;w.cmp(m)!==0;){for(var gt=w,j=0;gt.cmp(m)!==0;j++)gt=gt.redSqr();c(j<y);var A=this.pow(h,new l(1).iushln(y-j-1));M=M.redMul(A),h=A.redSqr(),w=w.redMul(h),y=j}return M},T.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},T.prototype.pow=function(t,r){if(r.isZero())return new l(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var s=4,a=new Array(1<<s);a[0]=new l(1).toRed(this),a[1]=t;for(var f=2;f<a.length;f++)a[f]=this.mul(a[f-1],t);var m=a[0],g=0,o=0,e=r.bitLength()%26;for(e===0&&(e=26),f=r.length-1;f>=0;f--){for(var h=r.words[f],M=e-1;M>=0;M--){var w=h>>M&1;if(m!==a[0]&&(m=this.sqr(m)),w===0&&g===0){o=0;continue}g<<=1,g|=w,o++,!(o!==s&&(f!==0||M!==0))&&(m=this.mul(m,a[g]),o=0,g=0)}e=26}return m},T.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},T.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},l.mont=function(t){return new jt(t)};function jt(u){T.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v(jt,T),jt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},jt.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},jt.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var s=t.imul(r),a=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=s.isub(a).iushrn(this.shift),m=f;return f.cmp(this.m)>=0?m=f.isub(this.m):f.cmpn(0)<0&&(m=f.iadd(this.m)),m._forceRed(this)},jt.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new l(0)._forceRed(this);var s=t.mul(r),a=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),f=s.isub(a).iushrn(this.shift),m=f;return f.cmp(this.m)>=0?m=f.isub(this.m):f.cmpn(0)<0&&(m=f.iadd(this.m)),m._forceRed(this)},jt.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(n,dr)})(ve);var Fr=ve.exports;const Dr=cr(Fr),Lr="logger/5.7.0";let ze=!1,Ge=!1;const Lt={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ze=Lt.default,de=null;function Hr(){try{const n=[];if(["NFD","NFC","NFKD","NFKC"].forEach(i=>{try{if("test".normalize(i)!=="test")throw new Error("bad normalize")}catch{n.push(i)}}),n.length)throw new Error("missing "+n.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(n){return n.message}return null}const $e=Hr();var pe;(function(n){n.DEBUG="DEBUG",n.INFO="INFO",n.WARNING="WARNING",n.ERROR="ERROR",n.OFF="OFF"})(pe||(pe={}));var Nt;(function(n){n.UNKNOWN_ERROR="UNKNOWN_ERROR",n.NOT_IMPLEMENTED="NOT_IMPLEMENTED",n.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",n.NETWORK_ERROR="NETWORK_ERROR",n.SERVER_ERROR="SERVER_ERROR",n.TIMEOUT="TIMEOUT",n.BUFFER_OVERRUN="BUFFER_OVERRUN",n.NUMERIC_FAULT="NUMERIC_FAULT",n.MISSING_NEW="MISSING_NEW",n.INVALID_ARGUMENT="INVALID_ARGUMENT",n.MISSING_ARGUMENT="MISSING_ARGUMENT",n.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",n.CALL_EXCEPTION="CALL_EXCEPTION",n.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",n.NONCE_EXPIRED="NONCE_EXPIRED",n.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",n.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",n.TRANSACTION_REPLACED="TRANSACTION_REPLACED",n.ACTION_REJECTED="ACTION_REJECTED"})(Nt||(Nt={}));const We="0123456789abcdef";class N{constructor(i){Object.defineProperty(this,"version",{enumerable:!0,value:i,writable:!1})}_log(i,d){const c=i.toLowerCase();Lt[c]==null&&this.throwArgumentError("invalid log level name","logLevel",i),!(Ze>Lt[c])&&console.log.apply(console,d)}debug(...i){this._log(N.levels.DEBUG,i)}info(...i){this._log(N.levels.INFO,i)}warn(...i){this._log(N.levels.WARNING,i)}makeError(i,d,c){if(Ge)return this.makeError("censored error",d,{});d||(d=N.errors.UNKNOWN_ERROR),c||(c={});const v=[];Object.keys(c).forEach(S=>{const k=c[S];try{if(k instanceof Uint8Array){let _="";for(let E=0;E<k.length;E++)_+=We[k[E]>>4],_+=We[k[E]&15];v.push(S+"=Uint8Array(0x"+_+")")}else v.push(S+"="+JSON.stringify(k))}catch{v.push(S+"="+JSON.stringify(c[S].toString()))}}),v.push(`code=${d}`),v.push(`version=${this.version}`);const l=i;let x="";switch(d){case Nt.NUMERIC_FAULT:{x="NUMERIC_FAULT";const S=i;switch(S){case"overflow":case"underflow":case"division-by-zero":x+="-"+S;break;case"negative-power":case"negative-width":x+="-unsupported";break;case"unbound-bitwise-result":x+="-unbound-result";break}break}case Nt.CALL_EXCEPTION:case Nt.INSUFFICIENT_FUNDS:case Nt.MISSING_NEW:case Nt.NONCE_EXPIRED:case Nt.REPLACEMENT_UNDERPRICED:case Nt.TRANSACTION_REPLACED:case Nt.UNPREDICTABLE_GAS_LIMIT:x=d;break}x&&(i+=" [ See: https://links.ethers.org/v5-errors-"+x+" ]"),v.length&&(i+=" ("+v.join(", ")+")");const mt=new Error(i);return mt.reason=l,mt.code=d,Object.keys(c).forEach(function(S){mt[S]=c[S]}),mt}throwError(i,d,c){throw this.makeError(i,d,c)}throwArgumentError(i,d,c){return this.throwError(i,N.errors.INVALID_ARGUMENT,{argument:d,value:c})}assert(i,d,c,v){i||this.throwError(d,c,v)}assertArgument(i,d,c,v){i||this.throwArgumentError(d,c,v)}checkNormalize(i){$e&&this.throwError("platform missing String.prototype.normalize",N.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:$e})}checkSafeUint53(i,d){typeof i=="number"&&(d==null&&(d="value not safe"),(i<0||i>=9007199254740991)&&this.throwError(d,N.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:i}),i%1&&this.throwError(d,N.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:i}))}checkArgumentCount(i,d,c){c?c=": "+c:c="",i<d&&this.throwError("missing argument"+c,N.errors.MISSING_ARGUMENT,{count:i,expectedCount:d}),i>d&&this.throwError("too many arguments"+c,N.errors.UNEXPECTED_ARGUMENT,{count:i,expectedCount:d})}checkNew(i,d){(i===Object||i==null)&&this.throwError("missing new",N.errors.MISSING_NEW,{name:d.name})}checkAbstract(i,d){i===d?this.throwError("cannot instantiate abstract class "+JSON.stringify(d.name)+" directly; use a sub-class",N.errors.UNSUPPORTED_OPERATION,{name:i.name,operation:"new"}):(i===Object||i==null)&&this.throwError("missing new",N.errors.MISSING_NEW,{name:d.name})}static globalLogger(){return de||(de=new N(Lr)),de}static setCensorship(i,d){if(!i&&d&&this.globalLogger().throwError("cannot permanently disable censorship",N.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ze){if(!i)return;this.globalLogger().throwError("error censorship permanent",N.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ge=!!i,ze=!!d}static setLogLevel(i){const d=Lt[i.toLowerCase()];if(d==null){N.globalLogger().warn("invalid log level - "+i);return}Ze=d}static from(i){return new N(i)}}N.errors=Nt;N.levels=pe;const qr="bytes/5.7.0",St=new N(qr);function ir(n){return!!n.toHexString}function Ht(n){return n.slice||(n.slice=function(){const i=Array.prototype.slice.call(arguments);return Ht(new Uint8Array(Array.prototype.slice.apply(n,i)))}),n}function Ve(n){return typeof n=="number"&&n==n&&n%1===0}function Bt(n){if(n==null)return!1;if(n.constructor===Uint8Array)return!0;if(typeof n=="string"||!Ve(n.length)||n.length<0)return!1;for(let i=0;i<n.length;i++){const d=n[i];if(!Ve(d)||d<0||d>=256)return!1}return!0}function zr(n,i){if(i||(i={}),typeof n=="number"){St.checkSafeUint53(n,"invalid arrayify value");const d=[];for(;n;)d.unshift(n&255),n=parseInt(String(n/256));return d.length===0&&d.push(0),Ht(new Uint8Array(d))}if(i.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),ir(n)&&(n=n.toHexString()),Rt(n)){let d=n.substring(2);d.length%2&&(i.hexPad==="left"?d="0"+d:i.hexPad==="right"?d+="0":St.throwArgumentError("hex data is odd-length","value",n));const c=[];for(let v=0;v<d.length;v+=2)c.push(parseInt(d.substring(v,v+2),16));return Ht(new Uint8Array(c))}return Bt(n)?Ht(new Uint8Array(n)):St.throwArgumentError("invalid arrayify value","value",n)}function Rt(n,i){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/))}const ce="0123456789abcdef";function sr(n,i){if(i||(i={}),typeof n=="number"){St.checkSafeUint53(n,"invalid hexlify value");let d="";for(;n;)d=ce[n&15]+d,n=Math.floor(n/16);return d.length?(d.length%2&&(d="0"+d),"0x"+d):"0x00"}if(typeof n=="bigint")return n=n.toString(16),n.length%2?"0x0"+n:"0x"+n;if(i.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),ir(n))return n.toHexString();if(Rt(n))return n.length%2&&(i.hexPad==="left"?n="0x0"+n.substring(2):i.hexPad==="right"?n+="0":St.throwArgumentError("hex data is odd-length","value",n)),n.toLowerCase();if(Bt(n)){let d="0x";for(let c=0;c<n.length;c++){let v=n[c];d+=ce[(v&240)>>4]+ce[v&15]}return d}return St.throwArgumentError("invalid hexlify value","value",n)}function Ke(n,i){for(typeof n!="string"?n=sr(n):Rt(n)||St.throwArgumentError("invalid hex string","value",n),n.length>2*i+2&&St.throwArgumentError("value out of range","value",arguments[1]);n.length<2*i+2;)n="0x0"+n.substring(2);return n}const nr="bignumber/5.7.0";var ge=Dr.BN;const _t=new N(nr),me={},Xe=9007199254740991;function Gr(n){return n!=null&&(R.isBigNumber(n)||typeof n=="number"&&n%1===0||typeof n=="string"&&!!n.match(/^-?[0-9]+$/)||Rt(n)||typeof n=="bigint"||Bt(n))}let Je=!1;class R{constructor(i,d){i!==me&&_t.throwError("cannot call constructor directly; use BigNumber.from",N.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=d,this._isBigNumber=!0,Object.freeze(this)}fromTwos(i){return wt(b(this).fromTwos(i))}toTwos(i){return wt(b(this).toTwos(i))}abs(){return this._hex[0]==="-"?R.from(this._hex.substring(1)):this}add(i){return wt(b(this).add(b(i)))}sub(i){return wt(b(this).sub(b(i)))}div(i){return R.from(i).isZero()&&yt("division-by-zero","div"),wt(b(this).div(b(i)))}mul(i){return wt(b(this).mul(b(i)))}mod(i){const d=b(i);return d.isNeg()&&yt("division-by-zero","mod"),wt(b(this).umod(d))}pow(i){const d=b(i);return d.isNeg()&&yt("negative-power","pow"),wt(b(this).pow(d))}and(i){const d=b(i);return(this.isNegative()||d.isNeg())&&yt("unbound-bitwise-result","and"),wt(b(this).and(d))}or(i){const d=b(i);return(this.isNegative()||d.isNeg())&&yt("unbound-bitwise-result","or"),wt(b(this).or(d))}xor(i){const d=b(i);return(this.isNegative()||d.isNeg())&&yt("unbound-bitwise-result","xor"),wt(b(this).xor(d))}mask(i){return(this.isNegative()||i<0)&&yt("negative-width","mask"),wt(b(this).maskn(i))}shl(i){return(this.isNegative()||i<0)&&yt("negative-width","shl"),wt(b(this).shln(i))}shr(i){return(this.isNegative()||i<0)&&yt("negative-width","shr"),wt(b(this).shrn(i))}eq(i){return b(this).eq(b(i))}lt(i){return b(this).lt(b(i))}lte(i){return b(this).lte(b(i))}gt(i){return b(this).gt(b(i))}gte(i){return b(this).gte(b(i))}isNegative(){return this._hex[0]==="-"}isZero(){return b(this).isZero()}toNumber(){try{return b(this).toNumber()}catch{yt("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return _t.throwError("this platform does not support BigInt",N.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Je||(Je=!0,_t.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?_t.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",N.errors.UNEXPECTED_ARGUMENT,{}):_t.throwError("BigNumber.toString does not accept parameters",N.errors.UNEXPECTED_ARGUMENT,{})),b(this).toString(10)}toHexString(){return this._hex}toJSON(i){return{type:"BigNumber",hex:this.toHexString()}}static from(i){if(i instanceof R)return i;if(typeof i=="string")return i.match(/^-?0x[0-9a-f]+$/i)?new R(me,Ot(i)):i.match(/^-?[0-9]+$/)?new R(me,Ot(new ge(i))):_t.throwArgumentError("invalid BigNumber string","value",i);if(typeof i=="number")return i%1&&yt("underflow","BigNumber.from",i),(i>=Xe||i<=-Xe)&&yt("overflow","BigNumber.from",i),R.from(String(i));const d=i;if(typeof d=="bigint")return R.from(d.toString());if(Bt(d))return R.from(sr(d));if(d)if(d.toHexString){const c=d.toHexString();if(typeof c=="string")return R.from(c)}else{let c=d._hex;if(c==null&&d.type==="BigNumber"&&(c=d.hex),typeof c=="string"&&(Rt(c)||c[0]==="-"&&Rt(c.substring(1))))return R.from(c)}return _t.throwArgumentError("invalid BigNumber value","value",i)}static isBigNumber(i){return!!(i&&i._isBigNumber)}}function Ot(n){if(typeof n!="string")return Ot(n.toString(16));if(n[0]==="-")return n=n.substring(1),n[0]==="-"&&_t.throwArgumentError("invalid hex","value",n),n=Ot(n),n==="0x00"?n:"-"+n;if(n.substring(0,2)!=="0x"&&(n="0x"+n),n==="0x")return"0x00";for(n.length%2&&(n="0x0"+n.substring(2));n.length>4&&n.substring(0,4)==="0x00";)n="0x"+n.substring(4);return n}function wt(n){return R.from(Ot(n))}function b(n){const i=R.from(n).toHexString();return i[0]==="-"?new ge("-"+i.substring(3),16):new ge(i.substring(2),16)}function yt(n,i,d){const c={fault:n,operation:i};return d!=null&&(c.value=d),_t.throwError(n,N.errors.NUMERIC_FAULT,c)}const xt=new N(nr),It={},or=R.from(0),ar=R.from(-1);function hr(n,i,d,c){const v={fault:i,operation:d};return c!==void 0&&(v.value=c),xt.throwError(n,N.errors.NUMERIC_FAULT,v)}let Ut="0";for(;Ut.length<256;)Ut+=Ut;function xe(n){if(typeof n!="number")try{n=R.from(n).toNumber()}catch{}return typeof n=="number"&&n>=0&&n<=256&&!(n%1)?"1"+Ut.substring(0,n):xt.throwArgumentError("invalid decimal size","decimals",n)}function qt(n,i){i==null&&(i=0);const d=xe(i);n=R.from(n);const c=n.lt(or);c&&(n=n.mul(ar));let v=n.mod(d).toString();for(;v.length<d.length-1;)v="0"+v;v=v.match(/^([0-9]*[1-9]|0)(0*)/)[1];const l=n.div(d).toString();return d.length===1?n=l:n=l+"."+v,c&&(n="-"+n),n}function Et(n,i){i==null&&(i=0);const d=xe(i);(typeof n!="string"||!n.match(/^-?[0-9.]+$/))&&xt.throwArgumentError("invalid decimal value","value",n);const c=n.substring(0,1)==="-";c&&(n=n.substring(1)),n==="."&&xt.throwArgumentError("missing value","value",n);const v=n.split(".");v.length>2&&xt.throwArgumentError("too many decimal points","value",n);let l=v[0],x=v[1];for(l||(l="0"),x||(x="0");x[x.length-1]==="0";)x=x.substring(0,x.length-1);for(x.length>d.length-1&&hr("fractional component exceeds decimals","underflow","parseFixed"),x===""&&(x="0");x.length<d.length-1;)x+="0";const mt=R.from(l),S=R.from(x);let k=mt.mul(d).add(S);return c&&(k=k.mul(ar)),k}class At{constructor(i,d,c,v){i!==It&&xt.throwError("cannot use FixedFormat constructor; use FixedFormat.from",N.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=d,this.width=c,this.decimals=v,this.name=(d?"":"u")+"fixed"+String(c)+"x"+String(v),this._multiplier=xe(v),Object.freeze(this)}static from(i){if(i instanceof At)return i;typeof i=="number"&&(i=`fixed128x${i}`);let d=!0,c=128,v=18;if(typeof i=="string"){if(i!=="fixed")if(i==="ufixed")d=!1;else{const l=i.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);l||xt.throwArgumentError("invalid fixed format","format",i),d=l[1]!=="u",c=parseInt(l[2]),v=parseInt(l[3])}}else if(i){const l=(x,mt,S)=>i[x]==null?S:(typeof i[x]!==mt&&xt.throwArgumentError("invalid fixed format ("+x+" not "+mt+")","format."+x,i[x]),i[x]);d=l("signed","boolean",d),c=l("width","number",c),v=l("decimals","number",v)}return c%8&&xt.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",c),v>80&&xt.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",v),new At(It,d,c,v)}}class pt{constructor(i,d,c,v){i!==It&&xt.throwError("cannot use FixedNumber constructor; use FixedNumber.from",N.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=v,this._hex=d,this._value=c,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(i){this.format.name!==i.format.name&&xt.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",i)}addUnsafe(i){this._checkFormat(i);const d=Et(this._value,this.format.decimals),c=Et(i._value,i.format.decimals);return pt.fromValue(d.add(c),this.format.decimals,this.format)}subUnsafe(i){this._checkFormat(i);const d=Et(this._value,this.format.decimals),c=Et(i._value,i.format.decimals);return pt.fromValue(d.sub(c),this.format.decimals,this.format)}mulUnsafe(i){this._checkFormat(i);const d=Et(this._value,this.format.decimals),c=Et(i._value,i.format.decimals);return pt.fromValue(d.mul(c).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(i){this._checkFormat(i);const d=Et(this._value,this.format.decimals),c=Et(i._value,i.format.decimals);return pt.fromValue(d.mul(this.format._multiplier).div(c),this.format.decimals,this.format)}floor(){const i=this.toString().split(".");i.length===1&&i.push("0");let d=pt.from(i[0],this.format);const c=!i[1].match(/^(0*)$/);return this.isNegative()&&c&&(d=d.subUnsafe(Ye.toFormat(d.format))),d}ceiling(){const i=this.toString().split(".");i.length===1&&i.push("0");let d=pt.from(i[0],this.format);const c=!i[1].match(/^(0*)$/);return!this.isNegative()&&c&&(d=d.addUnsafe(Ye.toFormat(d.format))),d}round(i){i==null&&(i=0);const d=this.toString().split(".");if(d.length===1&&d.push("0"),(i<0||i>80||i%1)&&xt.throwArgumentError("invalid decimal count","decimals",i),d[1].length<=i)return this;const c=pt.from("1"+Ut.substring(0,i),this.format),v=Zr.toFormat(this.format);return this.mulUnsafe(c).addUnsafe(v).floor().divUnsafe(c)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(i){if(i==null)return this._hex;i%8&&xt.throwArgumentError("invalid byte width","width",i);const d=R.from(this._hex).fromTwos(this.format.width).toTwos(i).toHexString();return Ke(d,i/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(i){return pt.fromString(this._value,i)}static fromValue(i,d,c){return c==null&&d!=null&&!Gr(d)&&(c=d,d=null),d==null&&(d=0),c==null&&(c="fixed"),pt.fromString(qt(i,d),At.from(c))}static fromString(i,d){d==null&&(d="fixed");const c=At.from(d),v=Et(i,c.decimals);!c.signed&&v.lt(or)&&hr("unsigned value cannot be negative","overflow","value",i);let l=null;c.signed?l=v.toTwos(c.width).toHexString():(l=v.toHexString(),l=Ke(l,c.width/8));const x=qt(v,c.decimals);return new pt(It,l,x,c)}static fromBytes(i,d){d==null&&(d="fixed");const c=At.from(d);if(zr(i).length>c.width/8)throw new Error("overflow");let v=R.from(i);c.signed&&(v=v.fromTwos(c.width));const l=v.toTwos((c.signed?0:1)+c.width).toHexString(),x=qt(v,c.decimals);return new pt(It,l,x,c)}static from(i,d){if(typeof i=="string")return pt.fromString(i,d);if(Bt(i))return pt.fromBytes(i,d);try{return pt.fromValue(i,0,d)}catch(c){if(c.code!==N.errors.INVALID_ARGUMENT)throw c}return xt.throwArgumentError("invalid FixedNumber value","value",i)}static isFixedNumber(i){return!!(i&&i._isFixedNumber)}}const Ye=pt.from(1),Zr=pt.from("0.5"),$r=R.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Wr="units/5.7.0",Vr=new N(Wr);function Kr(n,i){return qt(n,i)}function Xr(n,i){return typeof n!="string"&&Vr.throwArgumentError("value must be a string","value",n),Et(n,i)}function zt(n){return Kr(n,18)}function Qe(n){return Xr(n,18)}const Jr=()=>{const{address:n,stakingContract:i,tokenContract:d}=tr(),[c,v]=vt.useState(!1),[l,x]=vt.useState(null),mt=vt.useCallback(async _=>{if(!i||!d||!n){x("Wallet not connected");return}try{v(!0),x(null);const E=Qe(_);(await d.allowance(n,i.address)).lt(E)&&await(await d.approve(i.address,$r)).wait();const kt=await i.stake(E);return await kt.wait(),kt.hash}catch(E){throw console.error("Staking error:",E),x(E instanceof Error?E.message:"Failed to stake tokens"),E}finally{v(!1)}},[i,d,n]),S=vt.useCallback(async _=>{if(!i||!n){x("Wallet not connected");return}try{v(!0),x(null);const E=await i.unstake(Qe(_));return await E.wait(),E.hash}catch(E){throw console.error("Unstaking error:",E),x(E instanceof Error?E.message:"Failed to unstake tokens"),E}finally{v(!1)}},[i,n]),k=vt.useCallback(async()=>{if(!i||!n){x("Wallet not connected");return}try{v(!0),x(null);const _=await i.getRewards();return await _.wait(),_.hash}catch(_){throw console.error("Claim rewards error:",_),x(_ instanceof Error?_.message:"Failed to claim rewards"),_}finally{v(!1)}},[i,n]);return{stake:mt,unstake:S,claimRewards:k,isLoading:c,error:l}},Yr=()=>{const{address:n,stakingContract:i,tokenContract:d}=tr(),[c,v]=vt.useState({stakedBalance:"0",pendingRewards:"0",tokenBalance:"0",apr:0,lockPeriod:0,cooldownPeriod:0}),[l,x]=vt.useState(!0),[mt,S]=vt.useState(null),k=vt.useCallback(async()=>{if(!i||!d||!n){x(!1);return}try{x(!0),S(null);const[_,E,Tt,kt,Pt,Gt]=await Promise.all([i.stakedBalance(n),i.pendingRewards(n),d.balanceOf(n),i.apr(),i.lockPeriod(),i.cooldownPeriod()]);v({stakedBalance:zt(_),pendingRewards:zt(E),tokenBalance:zt(Tt),apr:kt.toNumber()/100,lockPeriod:Pt.toNumber(),cooldownPeriod:Gt.toNumber()})}catch(_){console.error("Error fetching staking data:",_),S(_ instanceof Error?_.message:"Failed to fetch staking data")}finally{x(!1)}},[i,d,n]);return vt.useEffect(()=>{if(k(),i&&n){const _=[i.filters.Staked(n),i.filters.Unstaked(n),i.filters.RewardsClaimed(n)];return _.forEach(E=>{i.on(E,k)}),()=>{_.forEach(E=>{i.off(E,k)})}}},[i,n,k]),{...c,isLoading:l,error:mt,refresh:k}},Qr=()=>{const{claimRewards:n,isLoading:i}=Jr(),{pendingRewards:d,cooldownPeriod:c}=Yr(),v=parseFloat(zt(d||"0")).toFixed(2),l=new Date(Date.now()+c*1e3);return p.jsxs("div",{className:"bg-[#121214] border border-[#242429] rounded-lg p-6",children:[p.jsx("h3",{className:"text-lg font-bold mb-6",children:"Your Rewards"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Pending Rewards"}),p.jsxs("p",{className:"text-3xl font-bold",children:[v," HMMM"]}),p.jsxs("p",{className:"text-sm text-gray-400",children:[" $",(parseFloat(v)*2).toFixed(2)]})]}),p.jsxs("div",{className:"p-4 bg-blue-500/10 rounded-lg flex items-start gap-3",children:[p.jsx(Ct,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium mb-1",children:"Next Claim Available"}),p.jsx("p",{className:"text-sm text-gray-400",children:l.toLocaleDateString()})]})]}),p.jsxs("button",{onClick:()=>n(),disabled:i||parseFloat(v)===0,className:"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[i&&p.jsx(mr,{className:"w-4 h-4 animate-spin"}),p.jsx(br,{className:"w-4 h-4"}),"Claim Rewards"]})]})]})},ti=()=>p.jsxs("div",{className:"bg-[#121214] border border-[#242429] rounded-lg p-6",children:[p.jsx("h3",{className:"text-lg font-bold mb-6",children:"Staking Info"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[p.jsx(Dt,{className:"w-4 h-4 text-blue-500"}),"Lock Period"]}),p.jsx("p",{className:"text-sm text-gray-400",children:"Staked tokens are locked for 14 days. Early unstaking will result in a 10% penalty fee."})]}),p.jsxs("div",{children:[p.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[p.jsx(Dt,{className:"w-4 h-4 text-blue-500"}),"Rewards"]}),p.jsx("p",{className:"text-sm text-gray-400",children:"Rewards are distributed daily and can be claimed after a 7-day cooling period."})]}),p.jsxs("div",{children:[p.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[p.jsx(Dt,{className:"w-4 h-4 text-blue-500"}),"APY Calculation"]}),p.jsx("p",{className:"text-sm text-gray-400",children:"APY is calculated based on total staked amount and current token price. Rate adjusts dynamically."})]})]})]}),ei=()=>{const[n,i]=vt.useState("stake");return p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p.jsxs("div",{className:"bg-[#121214] border border-[#242429] rounded-lg p-6",children:[p.jsxs("div",{className:"mb-6 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-lg p-4 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-1",children:"Current APY"}),p.jsx("p",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-purple-500",children:"24% APY"})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[p.jsx(Dt,{className:"w-4 h-4"}),p.jsx("span",{children:"Updated daily"})]})]}),p.jsx("div",{className:"flex gap-2 mb-6",children:["stake","unstake"].map(d=>p.jsx("button",{onClick:()=>i(d),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===d?"bg-blue-500 text-white":"bg-[#242429] text-gray-400 hover:text-white"}`,children:d.charAt(0).toUpperCase()+d.slice(1)},d))}),p.jsx(Ur,{mode:n})]}),p.jsx(Or,{})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(Qr,{}),p.jsx(ti,{})]})]})},ri=[{address:"0x1234...5678",name:"Alice",lastSent:"2024-02-19"},{address:"0x8765...4321",name:"Bob",lastSent:"2024-02-18"},{address:"0x9876...5432",name:"Charlie",lastSent:"2024-02-17"}],ii=()=>{const[n,i]=vt.useState(""),[d,c]=vt.useState(""),v=l=>{l.preventDefault(),console.log("Sending",n,"HMMM to",d)};return p.jsxs("div",{className:"max-w-xl mx-auto space-y-8",children:[p.jsxs("form",{onSubmit:v,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Recipient Address"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",value:d,onChange:l=>c(l.target.value),placeholder:"Enter wallet address",className:"w-full px-4 py-2 bg-[#0a0a0b] border border-[#242429] rounded-lg pr-10"}),p.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 hover:bg-[#242429] rounded-lg transition-colors",children:p.jsx(er,{className:"w-5 h-5"})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Amount (HMMM)"}),p.jsx("input",{type:"number",value:n,onChange:l=>i(l.target.value),placeholder:"0.00",className:"w-full px-4 py-2 bg-[#0a0a0b] border border-[#242429] rounded-lg"})]}),p.jsxs("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center gap-2",children:[p.jsx(rr,{className:"w-4 h-4"}),"Send HMMM"]})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[p.jsx(Ct,{className:"w-5 h-5"}),"Recent Contacts"]}),p.jsx("div",{className:"space-y-3",children:ri.map(l=>p.jsxs("button",{onClick:()=>c(l.address),className:"w-full p-4 bg-[#121214] border border-[#242429] rounded-lg hover:bg-[#242429] transition-colors flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:l.name}),p.jsx("p",{className:"text-sm text-gray-400",children:l.address})]}),p.jsx("p",{className:"text-sm text-gray-400",children:new Date(l.lastSent).toLocaleDateString()})]},l.address))})]})]})},ai=()=>{const[n,i]=vt.useState("overview"),d=[{icon:yr,label:"Overview",id:"overview",isActive:n==="overview"},{icon:Ct,label:"History",id:"history",isActive:n==="history"},{icon:Nr,label:"Invest",id:"invest",isActive:n==="invest"},{icon:rr,label:"Send",id:"send",isActive:n==="send",hasNew:!0}].map(v=>({...v,onClick:()=>i(v.id)})),c=()=>{switch(n){case"history":return p.jsx(Ir,{});case"invest":return p.jsx(ei,{});case"send":return p.jsx(ii,{});default:return p.jsxs("div",{className:"flex gap-8",children:[p.jsx("div",{className:"flex-1",children:p.jsx(kr,{balance:2619.1,change:13.7,profit:313.65})}),p.jsx("div",{className:"w-80",children:p.jsx(Ar,{network:"Binance Smart Chain",totalValue:20.78,assets:[{symbol:"BUSD",amount:11.504},{symbol:"BNB",amount:.011},{symbol:"ADA",amount:1.925},{symbol:"USDT",amount:3.529}]})})]})}};return p.jsx("div",{className:"min-h-[calc(100vh-44px)] bg-[#0a0a0b] text-white",children:p.jsxs("div",{className:"flex",children:[p.jsxs("div",{className:"w-64 min-h-[calc(100vh-44px)] border-r border-[#242429] p-6",children:[p.jsx(_r,{address:"0xc547...f187",balance:2619.1}),p.jsx(Sr,{items:d})]}),p.jsx("div",{className:"flex-1 p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-start mb-8",children:[p.jsx("h1",{className:"text-2xl font-bold capitalize",children:n}),p.jsx(Rr,{})]}),c()]})})]})})};export{ai as default};
